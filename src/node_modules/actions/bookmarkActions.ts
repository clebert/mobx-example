import {BookmarkModel} from 'models/BookmarkModel';
import {BookmarkViewModel} from 'models/BookmarkViewModel';
import {createActions} from 'utils/createActions';

function cancelEditing(
  bookmark: BookmarkModel,
  bookmarkView: BookmarkViewModel
): void {
  bookmarkView.editableBookmarks.delete(bookmark.url);
}

function endEditing(
  bookmark: BookmarkModel,
  bookmarkView: BookmarkViewModel,
  title: string
): void {
  bookmark.title = title;
  bookmarkView.editableBookmarks.delete(bookmark.url);
}

function startEditing(
  bookmark: BookmarkModel,
  bookmarkView: BookmarkViewModel
): void {
  bookmarkView.editableBookmarks.set(bookmark.url, undefined);
}

export const bookmarkActions = createActions({
  cancelEditing,
  endEditing,
  startEditing
});

export type bookmarkActionsType = typeof bookmarkActions;
